// Generated by CoffeeScript 1.3.3
var _ref;

this.app = (_ref = window.app) != null ? _ref : {};

jQuery(function() {
  var setupErrorHandlers;
  setupErrorHandlers = function() {
    return $(document).ajaxError(function(error, xhr, settings, exception) {
      var message, _ref1;
      console.log(xhr.status, xhr.responseText, "EXCEPTION: " + exception);
      message = xhr.status === 0 ? "The server could not be contacted." : xhr.status === 403 ? "Login is required for this action." : (500 <= (_ref1 = xhr.status) && _ref1 <= 600) ? "There was an error on the server." : void 0;
      $('#error-message span').text(message);
      return $('#error-message').slideDown();
    });
  };
  setupErrorHandlers();
  this.app.router = new app.GoferRouter;
  return Backbone.history.start({
    pushState: true
  });
});
